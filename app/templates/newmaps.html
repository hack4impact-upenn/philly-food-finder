  {% extends "base.html" %}
  {% block content %}
<script type="text/javascript">
    var map;
    $(document).ready(function(){
      map = new GMaps({
        el: 'map',
        lat: -12.043333,
        lng: -77.028333
      });
      $('#geocoding_form').submit(function(e){
        e.preventDefault();
        GMaps.geocode({
          address: $('#address').val().trim(),
          callback: function(results, status){
            if(status=='OK'){
              var latlng = results[0].geometry.location;
              map.setCenter(latlng.lat(), latlng.lng());
              map.addMarker({
                lat: latlng.lat(),
                lng: latlng.lng(),
                icon: {url: "../static/img/m_blue.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
              });
              $.getJSON($SCRIPT_ROOT + )
            }
          }
        });
      });      
      map.addMarker({
        lat: -12.043333,
        lng: -77.03,
        title: 'Lima',
        click: function(e){
          if(console.log) 
            console.log(e);
          alert('You clicked in this marker');
        },
        mouseover: function(e){
          if(console.log)
            console.log(e);
        }
      });
      map.addMarker({
        lat: -12.042,
        lng: -77.028333,
        title: 'Blue Marker with InfoWindow',
        infoWindow: {
          content: 'BluePin'
        },
        icon: {url: "../static/img/m_blue.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
      });  
      map.addMarker({
        lat: -12.040,
        lng: -77.037333,
        title: 'Green Marker with InfoWindow',
        infoWindow: {
          content: 'GreenPin'
        },
        icon: {url: "../static/img/m_green.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
      });       
      map.addMarker({
        lat: -12.035,
        lng: -77.037333,
        title: 'Orange Marker with InfoWindow',
        infoWindow: {
          content: 'OrangePin'
        },
        icon: {url: "../static/img/m_orange.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
      });  
      map.addMarker({
        lat: -12.045,
        lng: -77.037333,
        title: 'Purple Marker with InfoWindow',
        infoWindow: {
          content: 'PurplePin'
        },
        icon: {url: "../static/img/m_purple.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
      });  
      map.addMarker({
        lat: -12.045,
        lng: -77.047333,
        title: 'Red Marker with InfoWindow',
        infoWindow: {
          content: 'RedPin'
        },
        icon: {url: "../static/img/m_red.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
      });  
      map.addMarker({
        lat: -12.045,
        lng: -77.027333,
        title: 'Yellow Marker with InfoWindow',
        infoWindow: {
          content: 'YellowPin'
        },
        icon: {url: "../static/img/m_yellow.png",
              size: new google.maps.Size(50,50),
              scaledSize: new google.maps.Size(20,25)}
      });                             
    });
    </script>
  <h1>GMaps.js &mdash; Markers</h1>
  <div class="row">
    <div class="span11">
      <form method="post" id="geocoding_form">
        <label for="address">Address:</label>
        <div class="input large-8 medium-8 small-12 columns">
          <input type="text" id="address" name="address" />
          <input type="submit" class="btn" value="Search" />
        </div>
      </form>      
      <div id="map" class="large-8 medium-8 small-12 columns"></div>
    </div> 
  </div>
  {% endblock %}
