{% extends "base.html" %}

<!-- Map -->
  {% block content %}
<div class="large-centered 
                  large-10 medium-centered medium-8 small-8 small-centered
                  columns">

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart);
    function drawChart() {

      var data = google.visualization.arrayToDataTable([
        ['Zip Code', 'Searches'],
        {% for zip_code in zip_codes %}
          ['{{zip_code.zip_code}}', {{zip_code.search_count}}], 
        {% endfor %}
      ]);

      var options = {
        hAxis: {title: 'Zip Codes'},
        backgroundColor: { fill:'transparent' },
        legend: {position: 'none'}
      };

      var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));

      chart.draw(data, options);

    }
</script>
</div>
<body>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
</body>

{% endblock %}